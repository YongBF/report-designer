# 预览功能使用指南

## 快速开始

### 如何进入预览模式？

1. 设计好你的报表
2. 点击工具栏上的 **"预览"** 按钮（👁️ 图标）
3. 立即进入全屏预览模式

## 预览界面说明

```
┌─────────────────────────────────────────────────────────┐
│ 预览模式                           [⛶] [✕]          │ <- 顶部工具栏
├─────────────────────────────────────────────────────────┤
│                                                         │
│                  ┌──────────────────┐                   │
│                  │                  │                   │
│                  │   你的报表内容    │                   │ <- 预览视口
│                  │                  │                   │
│                  └──────────────────┘                   │
│                                                         │
├─────────────────────────────────────────────────────────┤
│        按 ESC 或点击空白区域退出预览                     │ <- 底部提示
└─────────────────────────────────────────────────────────┘
```

## 功能按钮

### 顶部工具栏

| 按钮 | 图标 | 功能 |
|------|------|------|
| 全屏 | ⛶ | 进入/退出全屏模式 |
| 关闭 | ✕ | 退出预览 |

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| **ESC** | 退出预览模式 |
| **F11** | 浏览器全屏切换（系统级） |

## 退出预览的三种方式

1. ⌨️ **按 ESC 键** (推荐，最快捷)
2. 🖱️ **点击右上角关闭按钮**
3. 🖱️ **点击预览区域外的黑色背景**

## 预览模式特点

✅ **所见即所得**: 预览效果与最终输出一致

✅ **禁用编辑**: 预览模式下无法修改设计，避免误操作

✅ **完整渲染**: 所有组件按设计顺序完整显示

✅ **响应式**: 自动适应不同屏幕尺寸

✅ **平滑过渡**: 优雅的淡入淡出动画

## 预览 vs 编辑模式对比

| 特性 | 编辑模式 | 预览模式 |
|------|----------|----------|
| 工具栏 | 可见 | 隐藏 |
| 组件库 | 可见 | 隐藏 |
| 属性面板 | 可见 | 隐藏 |
| 选择框 | 显示 | 隐藏 |
| 拖拽手柄 | 显示 | 隐藏 |
| 组件交互 | 可用 | 禁用 |
| 背景 | 网格背景 | 纯色背景 |

## 常见问题

### Q: 预览模式下能修改报表吗？
A: 不能。预览模式是只读模式，用于查看最终效果。如需修改，请先退出预览回到编辑模式。

### Q: 预览模式支持多页报表吗？
A: 当前预览显示整个画布内容。如果画布很长，可以滚动查看。

### Q: 预览时能导出为PDF吗？
A: 当前版本不支持直接从预览导出，但可以通过浏览器的打印功能（Ctrl+P）保存为PDF。

### Q: 预览显示不完整怎么办？
A: 检查画布尺寸设置，确保所有组件都在画布范围内。使用滚动条查看全部内容。

### Q: 能在预览模式下测试表单交互吗？
A: 不能。预览模式禁用了所有交互功能。表单测试需要在实际部署环境中进行。

## 最佳实践

1. **设计完成后预览**: 完成设计后立即预览，确认效果
2. **多设备预览**: 调整浏览器窗口大小，查看不同尺寸下的效果
3. **全屏预览**: 使用全屏模式获得最佳预览体验
4. **快速退出**: 使用ESC键快速退出预览，继续编辑

## 示例场景

### 场景1: 查看销售报表
1. 添加标题、表格、图表组件
2. 配置数据源和样式
3. 点击"预览"按钮
4. 查看完整的销售报表效果
5. 按ESC返回编辑

### 场景2: 分享设计稿
1. 完成报表设计
2. 进入预览模式
3. 使用截图工具（如系统截图）捕获预览效果
4. 分享给团队成员审核

### 场景3: 演示汇报
1. 打开报表设计器
2. 进入预览模式
3. 按F11进入浏览器全屏
4. 进行现场演示汇报

## 技术细节

### 预览模式实现的特性

- 使用 Teleport 传送到 body，避免层级问题
- 给 body 添加 `preview` class，便于全局样式控制
- CSS 禁用所有编辑相关的UI元素
- 监听全局键盘事件（ESC退出）
- 支持浏览器 Fullscreen API

### 性能优化

- 预览模式下禁用不必要的交互监听
- 使用 Vue 3 的 Transition 组件实现高效动画
- 预览组件按需渲染，不影响编辑模式性能

## 更新日志

### v1.0.0 (2025-01-17)
- ✨ 实现全屏预览功能
- ✨ 支持ESC键退出
- ✨ 添加预览/退出动画
- ✨ 集成到工具栏
- ✨ 完整的E2E测试覆盖

## 反馈与建议

如有问题或建议，欢迎反馈！
